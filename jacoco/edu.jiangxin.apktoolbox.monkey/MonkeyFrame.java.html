<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MonkeyFrame.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">APKToolBoxGUI</a> &gt; <a href="index.source.html" class="el_package">edu.jiangxin.apktoolbox.monkey</a> &gt; <span class="el_source">MonkeyFrame.java</span></div><h1>MonkeyFrame.java</h1><pre class="source lang-java linenums">package edu.jiangxin.apktoolbox.monkey;

import java.awt.Container;
import java.awt.Label;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JDialog;
import javax.swing.JFileChooser;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JTextField;
import javax.swing.WindowConstants;

import edu.jiangxin.apktoolbox.swing.extend.JEasyFrame;
import edu.jiangxin.apktoolbox.swing.extend.NumberPlainDocument;
import edu.jiangxin.apktoolbox.utils.Utils;

public class MonkeyFrame extends JEasyFrame {

    private static final long serialVersionUID = 1L;

<span class="nc" id="L35">    Thread threadTimeType = null;</span>
<span class="nc" id="L36">    Thread threadMonkey = null;</span>

<span class="nc" id="L38">    JPanel panel = new JPanel();</span>

<span class="nc" id="L40">    JLabel labelDevices = new JLabel(&quot;设备列表&quot;);</span>
<span class="nc" id="L41">    JComboBox&lt;String&gt; comboBoxDevices = new JComboBox&lt;String&gt;();</span>
<span class="nc" id="L42">    JButton refreshButton = new JButton(&quot;刷新&quot;);</span>

<span class="nc" id="L44">    JFileChooser fileChooser = new JFileChooser();</span>
<span class="nc" id="L45">    JButton logPathButton = new JButton(&quot;选择路径&quot;);</span>
<span class="nc" id="L46">    JButton excuteButton = new JButton(&quot;运行命令&quot;);</span>

<span class="nc" id="L48">    JButton resetButton = new JButton(&quot;重置页面&quot;);</span>
<span class="nc" id="L49">    JButton interruptButton = new JButton(&quot;终止运行&quot;);</span>
<span class="nc" id="L50">    JButton exitButton = new JButton(&quot;退出运行&quot;);</span>

<span class="nc" id="L52">    JLabel labelProgram = new JLabel(&quot;应用程序&quot;);</span>
<span class="nc" id="L53">    JLabel labelSpace = new JLabel(&quot;事件间隔&quot;);</span>
<span class="nc" id="L54">    JLabel labelMillisecond = new JLabel(&quot;毫秒&quot;);</span>
<span class="nc" id="L55">    JLabel labelTime = new JLabel(&quot;运行时长&quot;);</span>
<span class="nc" id="L56">    JLabel labelLogLevel = new JLabel(&quot;日志级别&quot;);</span>
<span class="nc" id="L57">    JLabel labelRestrain = new JLabel(&quot;约束条件&quot;);</span>
<span class="nc" id="L58">    JLabel labelHour = new JLabel();</span>
<span class="nc" id="L59">    JLabel labelMinute = new JLabel();</span>
<span class="nc" id="L60">    JLabel labelSecond = new JLabel();</span>
<span class="nc" id="L61">    JTextField textMillisecond = new JTextField(30);</span>
<span class="nc" id="L62">    JTextField textTime = new JTextField(30);</span>
<span class="nc" id="L63">    JTextField textLogPath = new JTextField(90);</span>

<span class="nc" id="L65">    JComboBox&lt;String&gt; comboBoxProgram = new JComboBox&lt;String&gt;();</span>
<span class="nc" id="L66">    JComboBox&lt;String&gt; comboBoxTime = new JComboBox&lt;String&gt;();</span>
    // --dbg-no-events：初始化启动的activity，但是不产生任何事件
<span class="nc" id="L68">    JCheckBox checkBoxDbgNoEvents = new JCheckBox(&quot;初始化启动的activity，但是不产生任何事件&quot;);</span>
    // --hprof：指定该项后在事件序列发送前后会立即生成分析报告（一般建议指定该项）
<span class="nc" id="L70">    JCheckBox checkBoxHprof = new JCheckBox(&quot;在事件序列发送前后会立即生成分析报告&quot;);</span>
    // --ignore-crashes：忽略崩溃
<span class="nc" id="L72">    JCheckBox checkBoxCrashes = new JCheckBox(&quot;忽略崩溃&quot;, true);</span>
    // --ignore-timeouts：忽略超时
<span class="nc" id="L74">    JCheckBox checkBoxTimeouts = new JCheckBox(&quot;忽略超时&quot;, true);</span>
    // --monitor-native-crashes：跟踪本地方法的崩溃问题
<span class="nc" id="L76">    JCheckBox checkBoxNativeCrashes = new JCheckBox(&quot;跟踪本地方法的崩溃问题&quot;, true);</span>
    // --ignore-security-exceptions：忽略安全异常
<span class="nc" id="L78">    JCheckBox checkBoxExceptions = new JCheckBox(&quot;忽略安全异常&quot;, true);</span>
    // --kill-process-after-error：发生错误后直接杀掉进程
<span class="nc" id="L80">    JCheckBox checkBoxKill = new JCheckBox(&quot;发生错误后直接杀掉进程&quot;);</span>
    // --wait-dbg：知道连接了调试器才执行monkey测试
<span class="nc" id="L82">    JCheckBox checkBoxWaitDbg = new JCheckBox(&quot;停止Monkey执行，直到有调试器与其连接&quot;);</span>

<span class="nc" id="L84">    ButtonGroup group = new ButtonGroup();</span>
<span class="nc" id="L85">    JRadioButton radioButton0 = new JRadioButton(&quot;基本信息&quot;);// 缺省值</span>
<span class="nc" id="L86">    JRadioButton radioButton1 = new JRadioButton(&quot;比较详细&quot;);// 比较详细</span>
<span class="nc" id="L87">    JRadioButton radioButton2 = new JRadioButton(&quot;非常详细&quot;, true);// 非常详细//默认选中</span>

<span class="nc" id="L89">    String dbgNoEvents = &quot;&quot;;</span>
<span class="nc" id="L90">    String hprof = &quot;&quot;;</span>
<span class="nc" id="L91">    String ignoreCrashes = &quot;&quot;;</span>
<span class="nc" id="L92">    String ignoreTimeouts = &quot;&quot;;</span>
<span class="nc" id="L93">    String monitorNativeCrashes = &quot;&quot;;</span>
<span class="nc" id="L94">    String ignoreSecurityExceptions = &quot;&quot;;</span>
<span class="nc" id="L95">    String killProcessAfterError = &quot;&quot;;</span>
<span class="nc" id="L96">    String waitDbg = &quot;&quot;;</span>

<span class="nc" id="L98">    String logLevel = &quot;&quot;;</span>
    ArrayList&lt;String&gt; list;
<span class="nc" id="L100">    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L101">    int flag = 0;</span>
    // String logFolder = &quot;&quot;;
<span class="nc" id="L103">    String[] monkeyCmd = null;</span>

    public MonkeyFrame() {
<span class="nc" id="L106">        super();</span>
<span class="nc" id="L107">        setTitle(bundle.getString(&quot;test.monkey.title&quot;));</span>
<span class="nc" id="L108">        add(panel, &quot;Center&quot;);</span>
<span class="nc" id="L109">        setSize(700, 400);</span>
<span class="nc" id="L110">        setResizable(false);</span>

<span class="nc" id="L112">        panel.setLayout(null);</span>

<span class="nc" id="L114">        initDevicesAndProgram();</span>

<span class="nc" id="L116">        initRestrainCondition();</span>

<span class="nc" id="L118">        initTimeSetting();</span>

<span class="nc" id="L120">        initLogSetting();</span>

<span class="nc" id="L122">        initOperation();</span>

<span class="nc" id="L124">        registListener();</span>

<span class="nc" id="L126">    }</span>

    private void initDevicesAndProgram() {
<span class="nc" id="L129">        labelDevices.setBounds(30, 25, 60, 20);</span>
<span class="nc" id="L130">        comboBoxDevices.setBounds(90, 25, 240, 20);</span>
<span class="nc" id="L131">        refreshButton.setBounds(340, 25, 60, 20);</span>

<span class="nc" id="L133">        labelProgram.setBounds(30, 55, 60, 20);</span>
<span class="nc" id="L134">        comboBoxProgram.setBounds(90, 55, 240, 20);</span>
<span class="nc" id="L135">        comboBoxProgram.setEditable(true);</span>
<span class="nc" id="L136">        comboBoxProgram.setSelectedItem(&quot;com.shinow.*&quot;);</span>

<span class="nc" id="L138">        panel.add(labelDevices);</span>
<span class="nc" id="L139">        panel.add(comboBoxDevices);</span>
<span class="nc" id="L140">        panel.add(refreshButton);</span>

<span class="nc" id="L142">        panel.add(labelProgram);</span>
<span class="nc" id="L143">        panel.add(comboBoxProgram);</span>

<span class="nc" id="L145">        refreshButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
<span class="nc" id="L148">                comboBoxDevices.removeAllItems();</span>
<span class="nc" id="L149">                List&lt;String&gt; devices = getDevices();</span>
<span class="nc bnc" id="L150" title="All 2 branches missed.">                for (String device : devices) {</span>
<span class="nc" id="L151">                    comboBoxDevices.addItem(device);</span>
<span class="nc" id="L152">                }</span>
<span class="nc" id="L153">            }</span>
        });

<span class="nc" id="L156">        comboBoxDevices.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
<span class="nc" id="L159">                comboBoxProgram.removeAllItems();</span>
<span class="nc" id="L160">                comboBoxProgram.setSelectedItem(&quot;com.shinow.*&quot;);</span>
<span class="nc" id="L161">                List&lt;String&gt; programs = getProgram(comboBoxDevices.getSelectedItem().toString());</span>
<span class="nc bnc" id="L162" title="All 2 branches missed.">                for (String program : programs) {</span>
<span class="nc" id="L163">                    comboBoxProgram.addItem(program);</span>
<span class="nc" id="L164">                }</span>

<span class="nc" id="L166">            }</span>

        });

<span class="nc" id="L170">    }</span>

    private void initRestrainCondition() {
<span class="nc" id="L173">        labelRestrain.setBounds(30, 85, 56, 20);</span>
<span class="nc" id="L174">        checkBoxCrashes.setBounds(86, 85, 100, 20);</span>
<span class="nc" id="L175">        checkBoxTimeouts.setBounds(186, 85, 100, 20);</span>
<span class="nc" id="L176">        checkBoxExceptions.setBounds(286, 85, 110, 20);</span>
<span class="nc" id="L177">        checkBoxNativeCrashes.setBounds(400, 85, 180, 20);</span>
<span class="nc" id="L178">        checkBoxKill.setBounds(86, 115, 180, 20);</span>
<span class="nc" id="L179">        checkBoxWaitDbg.setBounds(286, 115, 280, 20);</span>
<span class="nc" id="L180">        checkBoxHprof.setBounds(86, 145, 280, 20);</span>

<span class="nc" id="L182">        panel.add(labelRestrain);</span>
<span class="nc" id="L183">        panel.add(checkBoxCrashes);</span>
<span class="nc" id="L184">        panel.add(checkBoxTimeouts);</span>
<span class="nc" id="L185">        panel.add(checkBoxExceptions);</span>
<span class="nc" id="L186">        panel.add(checkBoxNativeCrashes);</span>
<span class="nc" id="L187">        panel.add(checkBoxKill);</span>
<span class="nc" id="L188">        panel.add(checkBoxWaitDbg);</span>
<span class="nc" id="L189">        panel.add(checkBoxHprof);</span>

<span class="nc" id="L191">        checkBoxCrashes.addItemListener(new ItemListener() {</span>
            @Override
            public void itemStateChanged(ItemEvent e) {
<span class="nc bnc" id="L194" title="All 2 branches missed.">                if (e.getStateChange() == ItemEvent.SELECTED) {</span>
<span class="nc" id="L195">                    ignoreCrashes = Common.Ignore_Crashes;</span>
                } else {
<span class="nc" id="L197">                    ignoreCrashes = &quot;&quot;;</span>
                }
<span class="nc" id="L199">            }</span>
        });

<span class="nc" id="L202">        checkBoxTimeouts.addItemListener(new ItemListener() {</span>
            @Override
            public void itemStateChanged(ItemEvent e) {
<span class="nc bnc" id="L205" title="All 2 branches missed.">                if (e.getStateChange() == ItemEvent.SELECTED) {</span>
<span class="nc" id="L206">                    ignoreTimeouts = Common.Ignore_Timeouts;</span>
                } else {
<span class="nc" id="L208">                    ignoreTimeouts = &quot;&quot;;</span>
                }
<span class="nc" id="L210">            }</span>
        });

<span class="nc" id="L213">        checkBoxExceptions.addItemListener(new ItemListener() {</span>
            @Override
            public void itemStateChanged(ItemEvent e) {
<span class="nc bnc" id="L216" title="All 2 branches missed.">                if (e.getStateChange() == ItemEvent.SELECTED) {</span>
<span class="nc" id="L217">                    ignoreSecurityExceptions = Common.Ignore_Security_Exceptions;</span>
                } else {
<span class="nc" id="L219">                    ignoreSecurityExceptions = &quot;&quot;;</span>
                }
<span class="nc" id="L221">            }</span>
        });

<span class="nc" id="L224">        checkBoxNativeCrashes.addItemListener(new ItemListener() {</span>
            @Override
            public void itemStateChanged(ItemEvent e) {
<span class="nc bnc" id="L227" title="All 2 branches missed.">                if (e.getStateChange() == ItemEvent.SELECTED) {</span>
<span class="nc" id="L228">                    monitorNativeCrashes = Common.Monitor_Native_Crashes;</span>
                } else {
<span class="nc" id="L230">                    monitorNativeCrashes = &quot;&quot;;</span>
                }
<span class="nc" id="L232">            }</span>
        });

<span class="nc" id="L235">    }</span>

    private void initTimeSetting() {
<span class="nc" id="L238">        labelSpace.setBounds(30, 175, 60, 20);</span>
<span class="nc" id="L239">        textMillisecond.setBounds(90, 175, 150, 20);</span>
<span class="nc" id="L240">        textMillisecond.setDocument(new NumberPlainDocument(7));</span>
<span class="nc" id="L241">        textMillisecond.setText(&quot;500&quot;);</span>
<span class="nc" id="L242">        labelMillisecond.setBounds(245, 175, 40, 20);</span>

<span class="nc" id="L244">        labelTime.setBounds(30, 205, 60, 20);</span>
<span class="nc" id="L245">        textTime.setBounds(90, 205, 150, 20);</span>
<span class="nc" id="L246">        textTime.setDocument(new NumberPlainDocument(7));</span>
<span class="nc" id="L247">        textTime.setText(&quot;1&quot;);</span>
<span class="nc" id="L248">        comboBoxTime.setBounds(245, 205, 50, 20);</span>
<span class="nc" id="L249">        comboBoxTime.addItem(Common.Hour);</span>
<span class="nc" id="L250">        comboBoxTime.addItem(Common.Minute);</span>
<span class="nc" id="L251">        comboBoxTime.addItem(Common.Second);</span>

<span class="nc" id="L253">        labelHour.setBounds(405, 205, 50, 20);</span>
<span class="nc" id="L254">        labelMinute.setBounds(475, 205, 50, 20);</span>
<span class="nc" id="L255">        labelSecond.setBounds(545, 205, 50, 20);</span>

<span class="nc" id="L257">        panel.add(labelSpace);</span>
<span class="nc" id="L258">        panel.add(textMillisecond);</span>
<span class="nc" id="L259">        panel.add(labelMillisecond);</span>

<span class="nc" id="L261">        panel.add(labelTime);</span>
<span class="nc" id="L262">        panel.add(textTime);</span>
<span class="nc" id="L263">        panel.add(comboBoxTime);</span>

<span class="nc" id="L265">        panel.add(labelHour); // 时</span>
<span class="nc" id="L266">        panel.add(labelMinute); // 分</span>
<span class="nc" id="L267">        panel.add(labelSecond); // 秒</span>

<span class="nc" id="L269">    }</span>

    private void initLogSetting() {
<span class="nc" id="L272">        labelLogLevel.setBounds(30, 235, 60, 20);</span>

<span class="nc" id="L274">        group.add(radioButton0);</span>
<span class="nc" id="L275">        group.add(radioButton1);</span>
<span class="nc" id="L276">        group.add(radioButton2);</span>

<span class="nc" id="L278">        radioButton0.setBounds(86, 235, 80, 20);</span>
<span class="nc" id="L279">        radioButton1.setBounds(186, 235, 80, 20);</span>
<span class="nc" id="L280">        radioButton2.setBounds(286, 235, 80, 20);</span>

<span class="nc" id="L282">        logPathButton.setBounds(30, 265, 100, 20);</span>
<span class="nc" id="L283">        textLogPath.setBounds(140, 265, 320, 20);</span>
<span class="nc" id="L284">        textLogPath.setEditable(false);</span>
<span class="nc" id="L285">        textLogPath.setText(&quot;D:&quot;);</span>

<span class="nc" id="L287">        panel.add(labelLogLevel);</span>
<span class="nc" id="L288">        panel.add(radioButton0);</span>
<span class="nc" id="L289">        panel.add(radioButton1);</span>
<span class="nc" id="L290">        panel.add(radioButton2);</span>

<span class="nc" id="L292">        panel.add(logPathButton);</span>
<span class="nc" id="L293">        panel.add(textLogPath);</span>

<span class="nc" id="L295">        logPathButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
<span class="nc bnc" id="L298" title="All 2 branches missed.">                if (e.getSource() == logPathButton) {</span>
<span class="nc" id="L299">                    fileChooser.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);</span>
<span class="nc" id="L300">                    int intRetVal = fileChooser.showOpenDialog(new Label());</span>
<span class="nc bnc" id="L301" title="All 2 branches missed.">                    if (intRetVal == JFileChooser.APPROVE_OPTION) {</span>
<span class="nc" id="L302">                        textLogPath.setText(fileChooser.getSelectedFile().getPath());</span>
                    }
                }
<span class="nc" id="L305">            }</span>
        });

<span class="nc" id="L308">    }</span>

    private void initOperation() {
<span class="nc" id="L311">        excuteButton.setBounds(30, 305, 100, 20);</span>
<span class="nc" id="L312">        resetButton.setBounds(140, 305, 100, 20);</span>
<span class="nc" id="L313">        interruptButton.setBounds(250, 305, 100, 20);</span>
<span class="nc" id="L314">        exitButton.setBounds(360, 305, 100, 20);</span>

<span class="nc" id="L316">        panel.add(excuteButton);</span>
<span class="nc" id="L317">        panel.add(resetButton);</span>
<span class="nc" id="L318">        panel.add(interruptButton);</span>
<span class="nc" id="L319">        panel.add(exitButton);</span>

<span class="nc" id="L321">        interruptButton.setEnabled(false);</span>

<span class="nc" id="L323">        excuteButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // 获取约束条件
<span class="nc bnc" id="L327" title="All 2 branches missed.">                if (checkBoxCrashes.isSelected()) {</span>
<span class="nc" id="L328">                    ignoreCrashes = Common.Ignore_Crashes;</span>
                }
<span class="nc bnc" id="L330" title="All 2 branches missed.">                if (checkBoxTimeouts.isSelected()) {</span>
<span class="nc" id="L331">                    ignoreTimeouts = Common.Ignore_Timeouts;</span>
                }
<span class="nc bnc" id="L333" title="All 2 branches missed.">                if (checkBoxNativeCrashes.isSelected()) {</span>
<span class="nc" id="L334">                    monitorNativeCrashes = Common.Monitor_Native_Crashes;</span>
                }
<span class="nc bnc" id="L336" title="All 2 branches missed.">                if (checkBoxExceptions.isSelected()) {</span>
<span class="nc" id="L337">                    ignoreSecurityExceptions = Common.Ignore_Security_Exceptions;</span>
                }
<span class="nc bnc" id="L339" title="All 2 branches missed.">                if (checkBoxHprof.isSelected()) {</span>
<span class="nc" id="L340">                    hprof = Common.Hprof;</span>
                }
<span class="nc bnc" id="L342" title="All 2 branches missed.">                if (checkBoxKill.isSelected()) {</span>
<span class="nc" id="L343">                    killProcessAfterError = Common.Kill_Process_After_Error;</span>
                }
<span class="nc bnc" id="L345" title="All 2 branches missed.">                if (checkBoxWaitDbg.isSelected()) {</span>
<span class="nc" id="L346">                    waitDbg = Common.Wait_Dbg;</span>
                }

                // 自定义参数，是否能够执行Monkey？[0不可以][1可以]
<span class="nc" id="L350">                int start = 0;</span>

                // 判断设备列表和应用程序是否为空
<span class="nc bnc" id="L353" title="All 2 branches missed.">                if (comboBoxDevices.getItemCount() == 0) {</span>
<span class="nc" id="L354">                    new Dialog2(Common.Msg4).dialog2.setVisible(true);// 弹出对话框</span>
<span class="nc" id="L355">                    refreshButton.requestFocus();</span>
                } else {
<span class="nc bnc" id="L357" title="All 2 branches missed.">                    if (comboBoxProgram.getItemCount() == 0) {</span>
<span class="nc" id="L358">                        new Dialog2(Common.Msg5).dialog2.setVisible(true);// 弹出对话框</span>
                    } else {
                        // 判断事件间隔和运行时长是否为空
<span class="nc bnc" id="L361" title="All 2 branches missed.">                        if (textMillisecond.getText().length() == 0) {</span>
<span class="nc" id="L362">                            new Dialog2(Common.Msg2).dialog2.setVisible(true);// 弹出对话框</span>
<span class="nc" id="L363">                            textMillisecond.requestFocus();</span>
                        } else {
<span class="nc bnc" id="L365" title="All 2 branches missed.">                            if (textTime.getText().length() == 0) {</span>
<span class="nc" id="L366">                                new Dialog2(Common.Msg2).dialog2.setVisible(true);// 弹出对话框</span>
<span class="nc" id="L367">                                textTime.requestFocus();</span>
                            } else {
<span class="nc bnc" id="L369" title="All 2 branches missed.">                                if (textLogPath.getText().length() == 0) {</span>
<span class="nc" id="L370">                                    new Dialog2(Common.Msg6).dialog2.setVisible(true);// 弹出对话框</span>
<span class="nc" id="L371">                                    logPathButton.requestFocus();</span>
                                } else {
<span class="nc" id="L373">                                    start = 1;</span>
                                }
                            }
                        }
                    }
                }

                // 获取日志级别
<span class="nc bnc" id="L381" title="All 2 branches missed.">                if (radioButton0.isSelected()) {</span>
<span class="nc" id="L382">                    logLevel = Common.Level_0;</span>
                }
<span class="nc bnc" id="L384" title="All 2 branches missed.">                if (radioButton1.isSelected()) {</span>
<span class="nc" id="L385">                    logLevel = Common.Level_1;</span>
                }
<span class="nc bnc" id="L387" title="All 2 branches missed.">                if (radioButton2.isSelected()) {</span>
<span class="nc" id="L388">                    logLevel = Common.Level_2;</span>
                }

<span class="nc bnc" id="L391" title="All 2 branches missed.">                if (start == 1) {</span>

                    // 日志文件路径
<span class="nc" id="L394">                    String logFile = textLogPath.getText() + &quot;\\&quot; + Common.Log_name + Utils.getCurrentDateString()</span>
                            + &quot;.txt&quot;;

                    // logFolder = textLogPath.getText();

                    // textLogPath.setText(logFile);

                    // Dos执行命令
<span class="nc" id="L402">                    monkeyCmd = new String[] { &quot;cmd.exe&quot;, &quot;/C&quot;,</span>
<span class="nc" id="L403">                            &quot;adb -s &quot; + comboBoxDevices.getSelectedItem() + &quot; shell monkey -p &quot;</span>
<span class="nc" id="L404">                                    + comboBoxProgram.getSelectedItem() + &quot;&quot; + ignoreCrashes + &quot;&quot; + ignoreTimeouts + &quot;&quot;</span>
                                    + ignoreSecurityExceptions + &quot;&quot; + monitorNativeCrashes + &quot; --throttle &quot;
<span class="nc" id="L406">                                    + textMillisecond.getText() + &quot;&quot; + logLevel + &quot;&quot; + Common.TransactionCount + &quot; &gt; &quot;</span>
                                    + logFile };

<span class="nc" id="L409">                    logger.info(&quot;Monkey:&quot; + monkeyCmd[2]);</span>

<span class="nc" id="L411">                    flag = 0;</span>

                    // 执行
                    // new Thread(new CmdThread(monkeyCmd)).start();
<span class="nc" id="L415">                    threadMonkey = new Thread(new ThreadExcuteMonkey(monkeyCmd));</span>
<span class="nc" id="L416">                    threadMonkey.start();</span>

<span class="nc" id="L418">                    excuteButton.setEnabled(false);</span>
<span class="nc" id="L419">                    resetButton.setEnabled(false);</span>
<span class="nc" id="L420">                    interruptButton.setEnabled(true);</span>
<span class="nc" id="L421">                    exitButton.setEnabled(false);</span>

                    // 倒计时文本
<span class="nc" id="L424">                    labelHour.setVisible(true);</span>
<span class="nc" id="L425">                    labelMinute.setVisible(true);</span>
<span class="nc" id="L426">                    labelSecond.setVisible(true);</span>

                    // 获取时间类型
<span class="nc" id="L429">                    String timeType = (String) comboBoxTime.getSelectedItem();</span>

<span class="nc" id="L431">                    long time = Long.parseLong(textTime.getText());</span>

<span class="nc bnc" id="L433" title="All 2 branches missed.">                    if (timeType == Common.Hour) {</span>
                        // new Thread(new MyThread(time * 3600)).start();
<span class="nc" id="L435">                        threadTimeType = new Thread(new ThreadExcuteTime(time * 3600));</span>
<span class="nc" id="L436">                        threadTimeType.start();</span>
                    }
<span class="nc bnc" id="L438" title="All 2 branches missed.">                    if (timeType == Common.Minute) {</span>
                        // new Thread(new MyThread(time * 60)).start();
<span class="nc" id="L440">                        threadTimeType = new Thread(new ThreadExcuteTime(time * 60));</span>
<span class="nc" id="L441">                        threadTimeType.start();</span>
                    }
<span class="nc bnc" id="L443" title="All 2 branches missed.">                    if (timeType == Common.Second) {</span>
                        // new Thread(new MyThread(time)).start();
<span class="nc" id="L445">                        threadTimeType = new Thread(new ThreadExcuteTime(time));</span>
<span class="nc" id="L446">                        threadTimeType.start();</span>
                    }
                }
<span class="nc" id="L449">            }</span>
        });

<span class="nc" id="L452">        resetButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // 重置约束条件
<span class="nc" id="L456">                checkBoxCrashes.setSelected(true);</span>
<span class="nc" id="L457">                checkBoxTimeouts.setSelected(true);</span>
<span class="nc" id="L458">                checkBoxExceptions.setSelected(true);</span>
<span class="nc" id="L459">                checkBoxNativeCrashes.setSelected(true);</span>
                // 重置日志级别
<span class="nc" id="L461">                radioButton0.setSelected(false);</span>
<span class="nc" id="L462">                radioButton1.setSelected(false);</span>
<span class="nc" id="L463">                radioButton2.setSelected(true);</span>
                // 重置事件间隔
<span class="nc" id="L465">                textMillisecond.setText(&quot;500&quot;);</span>
                // 重置运行时长
<span class="nc" id="L467">                textTime.setText(&quot;1&quot;);</span>
<span class="nc" id="L468">            }</span>
        });

<span class="nc" id="L471">        interruptButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
                // 杀掉Monkey执行进程
<span class="nc" id="L475">                interruptThread();</span>
<span class="nc" id="L476">                excuteButton.setEnabled(true);</span>
<span class="nc" id="L477">                resetButton.setEnabled(true);</span>
<span class="nc" id="L478">                interruptButton.setEnabled(false);</span>
<span class="nc" id="L479">                exitButton.setEnabled(true);</span>
                //System.gc();
<span class="nc" id="L481">            }</span>
        });

<span class="nc" id="L484">        exitButton.addActionListener(new ActionListener() {</span>
            @Override
            public void actionPerformed(ActionEvent e) {
<span class="nc" id="L487">                logger.info(&quot;已退出系统（Exit）&quot;);</span>
<span class="nc" id="L488">                MonkeyFrame.this.dispose();</span>
<span class="nc" id="L489">            }</span>
        });
<span class="nc" id="L491">    }</span>

    /**
     * 运行
     */
    private void registListener() {

<span class="nc" id="L498">    }</span>

    /**
     * 中断Monkey命令
     */
    public void interruptThread() {

<span class="nc" id="L505">        logger.info(&quot;中断Monkey命令--开始&quot;);</span>

<span class="nc" id="L507">        String[] cmd1 = new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;,</span>
<span class="nc" id="L508">                Common.CMD_PS_A + comboBoxDevices.getSelectedItem() + Common.CMD_PS_B };</span>
<span class="nc" id="L509">        excuteCommand(cmd1, Common.Monkey);</span>

<span class="nc" id="L511">        List&lt;String&gt; listPid = list;</span>
<span class="nc" id="L512">        logger.info(&quot;获取的中断Monkey进程数量：&quot; + listPid.size());</span>

<span class="nc" id="L514">        String[] cmd2 = null;</span>
<span class="nc" id="L515">        String pid = &quot;&quot;;</span>
<span class="nc bnc" id="L516" title="All 2 branches missed.">        for (int i = 0; i &lt; listPid.size(); i++) {</span>
<span class="nc" id="L517">            pid = listPid.get(i);</span>
<span class="nc" id="L518">            cmd2 = new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;,</span>
<span class="nc" id="L519">                    Common.CMD_Kill_A + comboBoxDevices.getSelectedItem() + Common.CMD_Kill_B + pid };</span>
<span class="nc" id="L520">            excuteCommand(cmd2, Common.Monkey);</span>
        }

<span class="nc" id="L523">        flag = 1;</span>

        // threadTimeType.interrupt();
<span class="nc" id="L526">        threadMonkey.interrupt();</span>

<span class="nc" id="L528">        labelHour.setVisible(false);</span>
<span class="nc" id="L529">        labelMinute.setVisible(false);</span>
<span class="nc" id="L530">        labelSecond.setVisible(false);</span>

<span class="nc" id="L532">        logger.info(&quot;中断Monkey命令--结束&quot;);</span>

<span class="nc" id="L534">    }</span>

    /**
     * 获取设备列表
     * 
     * @param cmd
     */
    private List&lt;String&gt; getDevices() {
<span class="nc" id="L542">        List&lt;String&gt; devices = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L543">        logger.info(&quot;获取设备列表......开始&quot;);</span>
        try {
<span class="nc" id="L545">            Process process = Runtime.getRuntime().exec(&quot;adb devices&quot;);</span>
<span class="nc" id="L546">            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream(), &quot;UTF-8&quot;));</span>
<span class="nc" id="L547">            String line = null;</span>
<span class="nc bnc" id="L548" title="All 2 branches missed.">            while ((line = reader.readLine()) != null) {</span>
<span class="nc bnc" id="L549" title="All 4 branches missed.">                if (line.contains(&quot;device&quot;) &amp;&amp; !line.contains(&quot;List of&quot;)) {</span>
<span class="nc" id="L550">                    line = line.substring(0, line.length() - 7);</span>
<span class="nc" id="L551">                    logger.info(&quot;获取的设备名称：&quot; + line);</span>
<span class="nc" id="L552">                    devices.add(line);</span>
                }
            }
<span class="nc" id="L555">            reader.close();</span>
<span class="nc" id="L556">            process.getOutputStream().close(); // 不要忘记了一定要关</span>
<span class="nc" id="L557">        } catch (Exception e) {</span>
<span class="nc" id="L558">            logger.error(&quot;获取设备列表异常&quot;, e);</span>
<span class="nc" id="L559">        }</span>
<span class="nc" id="L560">        logger.info(&quot;获取设备列表......结束&quot;);</span>
<span class="nc" id="L561">        return devices;</span>
    }

    /**
     * 获取应用程序列表
     * 
     * @param cmd
     */
    private List&lt;String&gt; getProgram(String device) {
<span class="nc" id="L570">        List&lt;String&gt; programs = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L571">        logger.info(&quot;获取应用程序列表......开始&quot;);</span>
        try {
<span class="nc" id="L573">            String cmd = &quot;adb -s &quot; + device + &quot; shell pm list packages&quot;;</span>
<span class="nc" id="L574">            Process process = Runtime.getRuntime().exec(cmd);</span>
<span class="nc" id="L575">            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream(), &quot;UTF-8&quot;));</span>
<span class="nc" id="L576">            String line = null;</span>
<span class="nc bnc" id="L577" title="All 2 branches missed.">            while ((line = reader.readLine()) != null) {</span>
<span class="nc bnc" id="L578" title="All 2 branches missed.">                if (line.contains(&quot;package:&quot;)) {</span>
<span class="nc" id="L579">                    logger.info(&quot;获取应用程序名称：&quot; + line);</span>
<span class="nc" id="L580">                    programs.add(line.replace(&quot;package:&quot;, &quot;&quot;));</span>
                }
            }
<span class="nc" id="L583">            reader.close();</span>
<span class="nc" id="L584">            process.getOutputStream().close(); // 不要忘记了一定要关</span>
<span class="nc" id="L585">        } catch (Exception e) {</span>
<span class="nc" id="L586">            logger.error(&quot;获取应用程序列表异常&quot;, e);</span>
<span class="nc" id="L587">        }</span>
<span class="nc" id="L588">        logger.info(&quot;获取应用程序列表......结束&quot;);</span>
<span class="nc" id="L589">        return programs;</span>
    }

    /**
     * 运行Dos命令
     * 
     * @param cmd      命令
     * @param keyValue 关键字
     */
    public void excuteCommand(String[] cmd, String keyValue) {
<span class="nc" id="L599">        logger.info(&quot;运行Dos命令......开始&quot;);</span>
<span class="nc" id="L600">        list = new ArrayList&lt;String&gt;();</span>
        try {
<span class="nc" id="L602">            Process process = Runtime.getRuntime().exec(cmd);</span>
<span class="nc" id="L603">            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream(), &quot;UTF-8&quot;));</span>
<span class="nc" id="L604">            String line = null;</span>
<span class="nc bnc" id="L605" title="All 2 branches missed.">            while ((line = reader.readLine()) != null) {</span>
<span class="nc bnc" id="L606" title="All 2 branches missed.">                if (line.indexOf(keyValue) &gt;= 0) {</span>
<span class="nc" id="L607">                    line = line.replace(&quot; &quot;, &quot;:&quot;);</span>
<span class="nc" id="L608">                    System.out.println(&quot;[&quot; + keyValue + &quot;][&quot; + line + &quot;]&quot;);</span>
<span class="nc" id="L609">                    String[] str = line.split(&quot;:&quot;);</span>
<span class="nc" id="L610">                    System.out.println(str.length);</span>
<span class="nc bnc" id="L611" title="All 2 branches missed.">                    for (int i = 1; i &lt; str.length; i++) {</span>
<span class="nc bnc" id="L612" title="All 2 branches missed.">                        if (str[i].length() &gt; 0) {</span>
<span class="nc" id="L613">                            logger.info(&quot;Pid的值：&quot; + str[i]);</span>
<span class="nc" id="L614">                            list.add(str[i]);</span>
<span class="nc" id="L615">                            break;</span>
                        }
                    }
<span class="nc" id="L618">                }</span>
            }
<span class="nc" id="L620">            reader.close();</span>
<span class="nc" id="L621">            process.getOutputStream().close(); // 不要忘记了一定要关</span>
<span class="nc" id="L622">        } catch (Exception e) {</span>
<span class="nc" id="L623">            logger.error(&quot;获取应用程序列表异常&quot;, e);</span>
<span class="nc" id="L624">        }</span>
<span class="nc" id="L625">        logger.info(&quot;运行Dos命令......结束&quot;);</span>
<span class="nc" id="L626">    }</span>

    /**
     * 倒计时
     * 
     * @author Administrator
     * 
     */
    class ThreadExcuteTime implements Runnable {

        private long times;

<span class="nc" id="L638">        public ThreadExcuteTime(long times) {</span>
<span class="nc" id="L639">            this.times = times;</span>
<span class="nc" id="L640">        }</span>

        public void run() {

<span class="nc" id="L644">            long time = 1 * times; // 自定义倒计时时间</span>
<span class="nc" id="L645">            long hour = 0;</span>
<span class="nc" id="L646">            long minute = 0;</span>
<span class="nc" id="L647">            long seconds = 0;</span>

<span class="nc bnc" id="L649" title="All 2 branches missed.">            if (time &gt;= 0) {</span>

<span class="nc bnc" id="L651" title="All 2 branches missed.">                for (int i = 0; i &lt;= time; i++) {</span>

                    // 监控Monkey命令
<span class="nc" id="L654">                    moniterMonkey(time, Common.Monkey);</span>

                    // 监控Monkey命令操作的App
<span class="nc" id="L657">                    moniterApp(time, comboBoxProgram.getSelectedItem().toString());</span>

                    // 判断标识，是否中断操作
<span class="nc" id="L660">                    System.out.println(&quot;flag==1?Interrupt:Continue:&quot; + flag);</span>

<span class="nc bnc" id="L662" title="All 2 branches missed.">                    if (flag == 1) {</span>
<span class="nc" id="L663">                        break;</span>
                    }

<span class="nc" id="L666">                    hour = time / 3600;</span>

<span class="nc" id="L668">                    minute = (time - hour * 3600) / 60;</span>

<span class="nc" id="L670">                    seconds = time - hour * 3600 - minute * 60;</span>

<span class="nc" id="L672">                    labelHour.setText(hour + Common.Hour);</span>

<span class="nc" id="L674">                    labelMinute.setText(minute + Common.Minute);</span>

<span class="nc" id="L676">                    labelSecond.setText(seconds + Common.Second);</span>

                    try {

<span class="nc" id="L680">                        Thread.sleep(1000);</span>

<span class="nc" id="L682">                    } catch (Exception e) {</span>

<span class="nc" id="L684">                        e.printStackTrace();</span>

<span class="nc" id="L686">                    }</span>

                    // 正常结束
<span class="nc bnc" id="L689" title="All 2 branches missed.">                    if (time == 0) {</span>

<span class="nc" id="L691">                        Thread.currentThread().interrupt();</span>

<span class="nc" id="L693">                        interruptThread();</span>

<span class="nc" id="L695">                        excuteButton.setEnabled(true);</span>
<span class="nc" id="L696">                        resetButton.setEnabled(true);</span>
<span class="nc" id="L697">                        interruptButton.setEnabled(false);</span>
<span class="nc" id="L698">                        exitButton.setEnabled(true);</span>

                    }

<span class="nc" id="L702">                    i--;</span>

<span class="nc" id="L704">                    time--;</span>

                }

<span class="nc bnc" id="L708" title="All 2 branches missed.">                if (flag == 1) {</span>

<span class="nc" id="L710">                    Thread.currentThread().interrupt();</span>

<span class="nc" id="L712">                    threadTimeType.interrupt();</span>

<span class="nc" id="L714">                    excuteButton.setEnabled(true);</span>
<span class="nc" id="L715">                    resetButton.setEnabled(true);</span>
<span class="nc" id="L716">                    interruptButton.setEnabled(false);</span>
<span class="nc" id="L717">                    exitButton.setEnabled(true);</span>

                }

            }

<span class="nc" id="L723">        }</span>

        /**
         * 间隔60秒监控一次运行monkey命令是否为运行状态，或已关闭
         * 
         * @param time     当前剩余执行时间
         * @param keyValue Monkey命令的进程名称
         */
        public void moniterMonkey(long time, String keyValue) {

<span class="nc bnc" id="L733" title="All 2 branches missed.">            if ((time - 1) % 120 == 0) {</span>

<span class="nc" id="L735">                logger.info(&quot;监控[&quot; + keyValue + &quot;]线程是否执行完毕---开始&quot;);</span>

<span class="nc" id="L737">                logger.info(&quot;每60秒监听一次，此时time的值：&quot; + (time - 1));</span>

<span class="nc" id="L739">                String[] cmd = new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;,</span>
<span class="nc" id="L740">                        Common.CMD_PS_A + comboBoxDevices.getSelectedItem() + Common.CMD_PS_B };</span>
<span class="nc" id="L741">                logger.info(&quot;当前命令：&quot; + cmd[2]);</span>

<span class="nc" id="L743">                excuteCommand(cmd, keyValue);</span>

<span class="nc" id="L745">                logger.info(&quot;当前线程数：&quot; + list.size());</span>

<span class="nc bnc" id="L747" title="All 2 branches missed.">                if (list.size() == 0) {</span>

<span class="nc" id="L749">                    String log = textLogPath.getText();</span>

<span class="nc" id="L751">                    System.out.println(textLogPath.getText());</span>

<span class="nc" id="L753">                    String getDate = Utils.getCurrentDateString();</span>

                    // 日志文件路径
<span class="nc" id="L756">                    String logFile = log.substring(0, log.indexOf(&quot;java_monkey_log&quot;)) + Common.Log_name + getDate</span>
                            + &quot;.txt&quot;;

<span class="nc" id="L759">                    textLogPath.setText(logFile);</span>

<span class="nc" id="L761">                    System.out.println(&quot;monkeyCmd[2];&quot; + monkeyCmd[2]);</span>

<span class="nc" id="L763">                    monkeyCmd[2] = monkeyCmd[2].substring(0, monkeyCmd[2].indexOf(&quot;java_monkey_log&quot;))</span>
                            + &quot;java_monkey_log&quot; + getDate + &quot;.txt&quot;;

<span class="nc" id="L766">                    logger.info(&quot;Monkey命令已经停止，再次执行&quot;);</span>
<span class="nc" id="L767">                    logger.info(&quot;monkeyCmd[2];&quot; + monkeyCmd[2]);</span>

<span class="nc" id="L769">                    String[] monkeyCommand = new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;, monkeyCmd[2] };</span>

<span class="nc" id="L771">                    logger.info(&quot;执行&quot;);</span>

                    // 再次执行
<span class="nc" id="L774">                    threadMonkey = new Thread(new ThreadExcuteMonkey(monkeyCommand));</span>
<span class="nc" id="L775">                    threadMonkey.start();</span>

                }

<span class="nc" id="L779">                logger.info(&quot;监控[&quot; + keyValue + &quot;]线程是否执行完毕---结束&quot;);</span>

            }

<span class="nc" id="L783">        }</span>

        /**
         * 间隔60秒监控一次运行app是否是启动状态，或崩溃掉
         * 
         * @param time     当前剩余执行时间
         * @param keyValue App的进程名称
         */
        public void moniterApp(long time, String keyValue) {
<span class="nc bnc" id="L792" title="All 2 branches missed.">            if ((time - 1) % 120 == 0) {</span>
<span class="nc" id="L793">                logger.info(&quot;监控[&quot; + keyValue + &quot;]线程是否执行完毕---开始&quot;);</span>
<span class="nc" id="L794">                logger.info(&quot;每60秒监听一次，此时time的值：&quot; + (time - 1));</span>
<span class="nc" id="L795">                String[] cmd = new String[] { &quot;cmd.exe&quot;, &quot;/c&quot;,</span>
<span class="nc" id="L796">                        Common.CMD_PS_A + comboBoxDevices.getSelectedItem() + Common.CMD_PS_B };</span>
<span class="nc" id="L797">                logger.info(&quot;当前命令：&quot; + cmd[2]);</span>
<span class="nc" id="L798">                excuteCommand(cmd, keyValue);</span>
<span class="nc" id="L799">                logger.info(&quot;当前线程数：&quot; + list.size());</span>
<span class="nc bnc" id="L800" title="All 2 branches missed.">                if (list.size() == 0) {</span>
<span class="nc" id="L801">                    logger.info(&quot;[&quot; + keyValue + &quot;]已经关闭或崩溃，无法继续执行Monkey，退出系统&quot;);</span>
<span class="nc" id="L802">                    logger.info(&quot;监控[&quot; + keyValue + &quot;]线程是否执行完毕---结束&quot;);</span>
                    // 杀掉Monkey执行进程
<span class="nc" id="L804">                    interruptThread();</span>
                    //System.gc();
<span class="nc" id="L806">                    MonkeyFrame.this.dispose();</span>
                }
<span class="nc" id="L808">                logger.info(&quot;监控[&quot; + keyValue + &quot;]线程是否执行完毕---结束&quot;);</span>
            }
<span class="nc" id="L810">        }</span>
    }

    /**
     * 执行提示Dialog
     * 
     * @author Administrator
     * 
     */
    class Dialog2 extends JDialog {

        private static final long serialVersionUID = 1L;

<span class="nc" id="L823">        JDialog dialog2 = new JDialog(this, &quot;JDialog窗体&quot;, true);</span>

<span class="nc" id="L825">        Dialog2(String msg3) {</span>

<span class="nc" id="L827">            dialog2.setSize(320, 180);</span>

<span class="nc" id="L829">            Container container = dialog2.getContentPane();</span>

<span class="nc" id="L831">            container.setLayout(null);</span>

<span class="nc" id="L833">            JLabel jl = new JLabel(msg3);</span>

<span class="nc" id="L835">            jl.setBounds(70, 1, 200, 100);</span>

<span class="nc" id="L837">            JButton jbb = new JButton(&quot;确    定&quot;);</span>

<span class="nc" id="L839">            jbb.setBounds(97, 80, 100, 25);</span>

<span class="nc" id="L841">            container.add(jl);</span>

<span class="nc" id="L843">            container.add(jbb);</span>

            // 设置位置
<span class="nc" id="L846">            int w = (Toolkit.getDefaultToolkit().getScreenSize().width - 320) / 2;</span>
<span class="nc" id="L847">            int h = (Toolkit.getDefaultToolkit().getScreenSize().height - 180) / 2;</span>

<span class="nc" id="L849">            dialog2.setLocation(w, h);</span>

<span class="nc" id="L851">            jbb.addActionListener(new ActionListener() {</span>

                public void actionPerformed(ActionEvent e) {

<span class="nc" id="L855">                    dialog2.dispose();</span>

<span class="nc" id="L857">                }</span>

            });
<span class="nc" id="L860">            dialog2.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L861">        }</span>
    }
}

/**
 * 运行Monkey命令
 */
class ThreadExcuteMonkey implements Runnable {
    private String[] cmd;

<span class="nc" id="L871">    public ThreadExcuteMonkey(String[] cmd) {</span>
<span class="nc" id="L872">        this.cmd = cmd;</span>
<span class="nc" id="L873">    }</span>

    public void run() {
        try {
<span class="nc" id="L877">            Runtime.getRuntime().exec(cmd);</span>
<span class="nc" id="L878">        } catch (Exception e) {</span>
<span class="nc" id="L879">            e.printStackTrace();</span>
<span class="nc" id="L880">        }</span>
<span class="nc" id="L881">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>